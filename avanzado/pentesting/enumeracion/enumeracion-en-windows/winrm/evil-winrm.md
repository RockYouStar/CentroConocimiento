# Evil-WinRm

Este programa se puede utilizar en cualquier servidor de Microsoft Windows que tenga habilitado WinRm, por supuesto sólo si se tienen credenciales y permisos para utilizarlo.&#x20;

Así que podemos decir que puede ser utilizado en una fase de hacking/pentesting posterior a la explotación. El propósito de este programa es proporcionar características agradables y fáciles de usar para el hacking. Puede ser utilizado con fines legítimos por los administradores del sistema, así, pero la mayor parte de sus características se centran en el pentesting.

### Características interesantes:

* Compatible con sistemas cliente Linux y Windows
* Carga de scripts Powershell en memoria
* Carga de archivos dll en memoria que evitan algunos antivirus
* Carga de ensamblajes C# (C Sharp) en memoria, evitando algunos antivirus
* Carga de cargas útiles x64 generadas con la impresionante técnica del donut
* Bypass dinámico de AMSI para evitar las firmas AV
* Soporte de Pass-the-hash
* Soporte de autenticación Kerberos
* Soporte para SSL y certificados
* Carga y descarga de archivos con barra de progreso
* Lista de servicios de máquinas remotas sin privilegios
* Historial de comandos
* Finalización de comandos de WinRM
* Completar archivos/directorios locales
* Completar la ruta remota (archivos/directorios) (puede desactivarse opcionalmente)
* Coloración de los mensajes de entrada y salida (puede desactivarse opcionalmente)
* Función de registro opcional
* Soporte para Docker (imágenes preconstruidas disponibles en Dockerhub)
* Captura de traps para evitar la salida accidental del shell con Ctrl+C

Podemos instalarlo de la siguiente forma:

```bash
gem install evil-winrm
```

Su uso es muy sencillo:

```bash
evil-winrm  -i 192.168.1.100 -u Administrator -p 'MySuperSecr3tPass123!' -s '/home/foo/ps1_scripts/' -e '/home/foo/exe_files/'
```

Si no quieres poner la contraseña en texto claro, puedes evitar poner el argumento -p y la contraseña se pedirá evitando que se muestre.

### Comandos básicos

**upload**: los archivos locales pueden autocompletarse con el tabulador.&#x20;

```bash
upload local_filename
```

```bash
upload local_filename destination_filename
```

**download**:

```
download remote_filename
```

```bash
download remote_filename destination_filename
```
